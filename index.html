<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //Create a function to getComputerChoice - "rock", "paper", or "scissor"
        //create variable i to get random value between 0, 1, or 2 using math.random
        //using a conditional statement, return "rock" for 0, "paper", for 1, or "scissor" for 2

        function getComputerChoice() {
            let i = Math.floor(Math.random() * 3);
            
            if(i === 0) {
                return "rock";
            } else if(i === 1) {
                return "paper";
            } else {
                return "scissors";
            }
        }

        const options = ["rock", "paper", "scissors"];

        

        //create a function to play a single round of rock, paper, scissors
        //cases when player selects rock: if computer -- paper: lose; scissors: win; rock: tie;
        //cases when player selects paper: if computer -- scissors: lose; rock: win; paper: tie;
        //cases when player selects scissors: if computer -- rock: lose; paper: win; scissors: tie;

        function playRound(playerSelection, computerSelection) {
            
            
            if((playerSelection === 'rock' && computerSelection === 'paper') || (playerSelection === 'paper' && computerSelection === 'scissors') || (playerSelection === 'scissors' && computerSelection === 'rock')) {
                return 'lose';
            } else if ((playerSelection === 'rock' && computerSelection === 'scissors') || (playerSelection === 'paper' && computerSelection === 'rock') || (playerSelection === 'scissors' && computerSelection === 'paper')) {
                return 'win';
            } else if (playerSelection === computerSelection) {
                return 'tie';
            }
        }

        function roundResult(playerSelection, computerSelection) {
            const game = playRound(playerSelection, computerSelection);
            if(game === 'win') {
                return `player wins! ${playerSelection} beats ${computerSelection}`
            } else if (game === 'lose') {
                return `computer wins! ${computerSelection} beats ${playerSelection}`
            } else if (game === 'tie') {
                return `Its a tie! You both played ${computerSelection}`
            }
            
        }

        function getPlayerChoice() {
            let validatedInput = false;
            while(validatedInput == false) {
                const choice = prompt("Rock Paper Scissors");
                if(choice == null) {
                    continue;
                }
                const choiceLowercase = choice.toLowerCase();
                if(options.includes(choiceLowercase)) {
                    validatedInput = true;
                    return choiceLowercase;
                }
            }
        }
        
        function game() {
            console.log("Rock-Paper-Scissors by Codnuked!");
            let playerScore = 0;
            let computerScore = 0;
            for (let i = 0; i < 5; i++) {
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log(roundResult(playerSelection, computerSelection));
                console.log("/////////////// **** /////////////");
                if (playRound(playerSelection, computerSelection) == 'lose') {
                    computerScore++;
                } else if (playRound(playerSelection, computerSelection) == 'win') {
                    playerScore++;
                } 
            }

            console.log("Game Ends. Results: ");
            if (playerScore > computerScore) {
                console.log(`Player Wins! Final Score: Player: ${playerScore} - Computer: ${computerScore}`);
            } else if (computerScore > playerScore) {
                console.log(`Computer Wins! Final Score: Player: ${playerScore} - Computer: ${computerScore}`);
            } else if (computerScore == playerScore) {
                console.log(`Its a tie! Final Score: Player: ${playerScore} - Computer: ${computerScore}`);
            }
        }
        
        game();
        
        

        //game function that runs for 5 rounds
        //if the player wins, a point is added to playerScore
        //if the computer wins, a point is added to computerScore
        //if its a tie, no points are added
        //if playerScore > computerScore, player wins, else if computer wins, else its a tie.
        
        // function game() {
        //     let playerScore = 0;
        //     let computerScore = 0;
        //     for (let i = 0; i < 5; i++) {
        //         playRound(playerSelection, computerSelection);
        //         if(playRound(playerSelection, computerSelection) === 'win') {
        //             playerScore++;
        //         } else if(playRound(playerSelection, computerSelection) === 'lose') {
        //             computerScore++;
        //         } 
        //         console.log(playerScore);
        //         console.log(computerScore);
        //     }

        //     if(playerScore > computerScore) {
        //         console.log("Player Wins!");
        //     } else if (computerScore > playerScore) {
        //         console.log("Computer Wins!");
        //     } else {
        //         console.log("Its a tie!");
        //     }
        // }

        // game();
    </script>
</body>
</html>